<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>üë• –ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</title>
  <style>
    :root {
      --red: #e10600;
      --dark-bg: #0f0f0f;
      --section-bg: #1a1a1a;
      --accent-bg: #300000;
    }

    body {
      background: var(--dark-bg);
      color: white;
      font-family: 'Segoe UI', sans-serif;
      padding: 1.5rem;
      margin: 0;
    }

    h1, h2 {
      color: var(--red);
    }

    section {
      margin-bottom: 2rem;
      padding: 1.5rem;
      background: var(--section-bg);
      border-left: 6px solid var(--red);
      border-radius: 10px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 1rem;
      font-size: 0.95rem;
    }

    th, td {
      padding: 8px;
      border: 1px solid #333;
      text-align: center;
    }

    th {
      background: var(--accent-bg);
    }

    button {
      background: var(--red);
      color: white;
      border: none;
      padding: 6px 12px;
      border-radius: 5px;
      cursor: pointer;
      margin: 2px;
    }

    button:hover {
      background: #aa0400;
    }

    input[type="text"], textarea {
      width: 100%;
      padding: 10px;
      border-radius: 6px;
      background: #2b2b2b;
      color: white;
      border: none;
      margin-top: 8px;
      font-size: 1rem;
    }

    .analytics p {
      font-size: 1.1rem;
      margin: 0.5rem 0;
    }

    .poll-results {
      margin-top: 1rem;
    }

    ul {
      padding-left: 1.2rem;
    }

    @media (max-width: 768px) {
      table, thead, tbody, th, td, tr {
        display: block;
      }

      thead tr {
        display: none;
      }

      td {
        position: relative;
        padding-left: 50%;
        text-align: left;
        border: none;
        border-bottom: 1px solid #444;
      }

      td::before {
        position: absolute;
        top: 8px;
        left: 12px;
        width: 45%;
        padding-right: 10px;
        white-space: nowrap;
        font-weight: bold;
        color: #aaa;
      }

      td:nth-of-type(1)::before { content: "–ò–º—è"; }
      td:nth-of-type(2)::before { content: "–†–æ–ª—å"; }
      td:nth-of-type(3)::before { content: "–ê–∫–∞–¥–µ–º–∏—è"; }
      td:nth-of-type(4)::before { content: "–°—Ç–∞—Ç—É—Å"; }
      td:nth-of-type(5)::before { content: "–î–µ–π—Å—Ç–≤–∏—è"; }
    }
  </style>
</head>
<body>
  <h1>üë• –ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h1>

  <section>
    <h2>1. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</h2>
    <table>
      <thead>
        <tr>
          <th>–ò–º—è</th>
          <th>–†–æ–ª—å</th>
          <th>–ê–∫–∞–¥–µ–º–∏—è</th>
          <th>–°—Ç–∞—Ç—É—Å</th>
          <th>–î–µ–π—Å—Ç–≤–∏—è</th>
        </tr>
      </thead>
      <tbody id="user-table">
        <!-- –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
      </tbody>
    </table>
  </section>

  <section>
    <h2>2. –ê–Ω–∞–ª–∏—Ç–∏–∫–∞</h2>
    <div class="analytics">
      <p>–í—Å–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: <span id="user-count">0</span></p>
      <p>–ê–∫—Ç–∏–≤–Ω—ã—Ö —Ç—Ä–µ–Ω–µ—Ä–æ–≤: <span id="coach-count">0</span></p>
      <p>–¢—É—Ä–Ω–∏—Ä–æ–≤ —Å–æ–∑–¥–∞–Ω–æ: <span id="tournament-count">5</span></p>
    </div>
  </section>

  <section>
    <h2>3. –û–ø—Ä–æ—Å—ã –∏ —Ñ–∏–¥–±—ç–∫</h2>
    <form onsubmit="createPoll(event)">
      <label>–í–æ–ø—Ä–æ—Å:</label>
      <input type="text" id="poll-question" required />

      <label>–í–∞—Ä–∏–∞–Ω—Ç—ã (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é):</label>
      <input type="text" id="poll-options" required />

      <button type="submit">–°–æ–∑–¥–∞—Ç—å –æ–ø—Ä–æ—Å</button>
    </form>

    <div id="poll-display" class="poll-results" style="display:none;">
      <h3 id="poll-q"></h3>
      <ul id="poll-options-list"></ul>
    </div>
  </section>

<script>
  const users = [
    { name: "–ê–π–¥–∞–Ω–∞", role: "–¢—Ä–µ–Ω–µ—Ä", academy: "Aiga Kids", status: "–æ–∂–∏–¥–∞–µ—Ç" },
    { name: "–ú–∞—Ä–∞—Ç", role: "–£—á–µ–Ω–∏–∫", academy: "Aiga Adults", status: "–∞–∫—Ç–∏–≤–µ–Ω" },
    { name: "–ù—É—Ä—Å—É–ª—Ç–∞–Ω", role: "–¢—Ä–µ–Ω–µ—Ä", academy: "Aiga East", status: "–∑–∞–±–∞–Ω–µ–Ω" },
    { name: "–ñ–∞–Ω–Ω–∞", role: "–†–æ–¥–∏—Ç–µ–ª—å", academy: "-", status: "–∞–∫—Ç–∏–≤–µ–Ω" },
  ];

  function renderUsers() {
    const tbody = document.getElementById("user-table");
    tbody.innerHTML = "";
    users.forEach((u, i) => {
      const tr = document.createElement("tr");
      tr.innerHTML = `
        <td>${u.name}</td>
        <td>${u.role}</td>
        <td>${u.academy}</td>
        <td>${u.status}</td>
        <td>
          ${u.status === "–æ–∂–∏–¥–∞–µ—Ç" ? `<button onclick="confirmUser(${i})">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å</button>` : ""}
          ${u.status !== "–∑–∞–±–∞–Ω–µ–Ω" ? `<button onclick="banUser(${i})">–ë–∞–Ω</button>` : `<button onclick="activateUser(${i})">–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å</button>`}
        </td>
      `;
      tbody.appendChild(tr);
    });

    document.getElementById("user-count").textContent = users.length;
    document.getElementById("coach-count").textContent = users.filter(u => u.role === "–¢—Ä–µ–Ω–µ—Ä" && u.status === "–∞–∫—Ç–∏–≤–µ–Ω").length;
  }

  function confirmUser(i) { users[i].status = "–∞–∫—Ç–∏–≤–µ–Ω"; renderUsers(); }
  function banUser(i) { users[i].status = "–∑–∞–±–∞–Ω–µ–Ω"; renderUsers(); }
  function activateUser(i) { users[i].status = "–∞–∫—Ç–∏–≤–µ–Ω"; renderUsers(); }

  renderUsers();

  let currentPoll = null;

  function createPoll(event) {
    event.preventDefault();
    const q = document.getElementById("poll-question").value.trim();
    const rawOpts = document.getElementById("poll-options").value.trim();
    const opts = rawOpts.split(",").map(o => o.trim());

    if (!q || opts.length < 2) {
      alert("–í–≤–µ–¥–∏—Ç–µ –≤–æ–ø—Ä–æ—Å –∏ –º–∏–Ω–∏–º—É–º 2 –≤–∞—Ä–∏–∞–Ω—Ç–∞.");
      return;
    }

    currentPoll = {
      question: q,
      options: opts,
      votes: new Array(opts.length).fill(0),
    };
    showPoll();
    event.target.reset();
  }

  function showPoll() {
    if (!currentPoll) return;
    document.getElementById("poll-display").style.display = "block";
    document.getElementById("poll-q").textContent = currentPoll.question;

    const list = document.getElementById("poll-options-list");
    list.innerHTML = "";

    currentPoll.options.forEach((opt, idx) => {
      const li = document.createElement("li");
      li.innerHTML = `
        <strong>${opt}</strong> ‚Äî ${currentPoll.votes[idx]} –≥–æ–ª–æ—Å–æ–≤
        <button onclick="vote(${idx})">–ì–æ–ª–æ—Å–æ–≤–∞—Ç—å</button>
      `;
      list.appendChild(li);
    });
  }

  function vote(i) {
    currentPoll.votes[i]++;
    showPoll();
  }
</script>
</body>
</html>