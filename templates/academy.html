<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>–ê–∫–∞–¥–µ–º–∏–∏ –∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ —Å –º–µ–Ω—é —Å–ø—Ä–∞–≤–∞</title>
<style>
  body {
    margin: 0;
    background: #0e0e0e;
    color: white;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    display: flex;
    min-height: 100vh;
    flex-direction: row;
  }

  /* –ú–µ–Ω—é —Å–ø—Ä–∞–≤–∞ */
  nav {
    background-color: #111;
    width: 220px;
    padding: 1rem;
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    border-left: 1px solid #440000;
    box-shadow: -2px 0 8px #e1060040;
    position: fixed;
    top: 0;
    bottom: 0;
    right: 0;
    overflow-y: auto;
    z-index: 1000;
  }

  nav a {
    color: white;
    text-decoration: none;
    padding: 10px 15px;
    border-radius: 6px;
    margin-bottom: 0.7rem;
    font-weight: 600;
    transition: background-color 0.3s;
  }
  nav a:hover,
  nav a.active {
    background-color: #e10600;
    color: #fff;
  }

  /* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä */
  .container {
    margin-right: 220px; /* —á—Ç–æ–±—ã –Ω–µ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞—Ç—å—Å—è –º–µ–Ω—é —Å–ø—Ä–∞–≤–∞ */
    padding: 2rem;
    max-width: 900px;
    width: 100%;
    box-sizing: border-box;
  }

  h1, h2 {
    color: #e10600;
  }

  input[type="text"], input[type="number"] {
    width: 100%;
    padding: 10px;
    margin-top: 10px;
    border: none;
    border-radius: 6px;
    background: #1c1c1c;
    color: white;
    box-sizing: border-box;
  }

  button {
    background: #e10600;
    color: white;
    border: none;
    padding: 10px 16px;
    border-radius: 6px;
    cursor: pointer;
    transition: background 0.3s ease;
  }
  button:hover {
    background: #b10500;
  }

  /* –ê–∫–∞–¥–µ–º–∏–∏ */
  #academy-search {
    margin-bottom: 1rem;
  }

  .academy-list {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 15px;
  }
  .academy-card {
    background: #1a1a1a;
    padding: 1rem;
    border-left: 6px solid #e10600;
    border-radius: 10px;
    box-shadow: 0 0 8px #e1060020;
  }
  .academy-card h3 {
    margin-top: 0;
  }

  /* –ú–æ–∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ */
  #my-trainings-section {
    margin-top: 3rem;
  }
  #my-trainings-list {
    list-style: none;
    padding-left: 0;
  }
  #my-trainings-list li {
    background: #1c1c1c;
    margin-bottom: 0.5rem;
    padding: 0.8rem;
    border-radius: 6px;
  }

  /* –ü–∞–Ω–µ–ª—å —Ç—Ä–µ–Ω–µ—Ä–∞ */
  #coach-panel-section {
    margin-top: 3rem;
  }
  #requests-list {
    list-style: none;
    padding-left: 0;
  }
  #requests-list li {
    background: #1c1c1c;
    padding: 0.8rem;
    margin-bottom: 0.6rem;
    border-radius: 6px;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  #requests-list button {
    padding: 6px 12px;
    font-size: 0.9rem;
  }
  table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 1rem;
  }
  th, td {
    border: 1px solid #333;
    padding: 8px;
    text-align: center;
  }
  th {
    background: #220000;
  }
  input[type="checkbox"] {
    transform: scale(1.3);
    cursor: pointer;
  }
  input[type="number"] {
    width: 60px;
  }

  /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
  @media (max-width: 768px) {
    body {
      flex-direction: column;
    }

    nav {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      width: 100%;
      height: 50px;
      padding: 0;
      flex-direction: row;
      justify-content: space-around;
      align-items: center;
      border-left: none;
      border-top: 1px solid #440000;
      box-shadow: 0 -2px 10px #e1060040;
      z-index: 1000;
    }
    nav a {
      margin: 0;
      padding: 10px 5px;
      font-size: 0.9rem;
      flex-grow: 1;
      text-align: center;
      border-radius: 0;
    }

    .container {
      margin: 0;
      padding-bottom: 60px; /* –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –ø–æ–¥ –º–µ–Ω—é —Å–Ω–∏–∑—É */
      max-width: 100%;
    }

    .academy-list {
      grid-template-columns: 1fr;
    }
  }
</style>
</head>
<body>

  <div class="container">
    <h1>üß¨ –ê–∫–∞–¥–µ–º–∏–∏ –∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏</h1>

    <!-- –ö–∞—Ç–∞–ª–æ–≥ –∞–∫–∞–¥–µ–º–∏–π -->
    <section id="academies-section">
      <h2>üè´ –ö–∞—Ç–∞–ª–æ–≥ –∞–∫–∞–¥–µ–º–∏–π</h2>
      <input type="text" id="academy-search" placeholder="–ü–æ–∏—Å–∫ –∞–∫–∞–¥–µ–º–∏–∏..." />
      <div class="academy-list" id="academy-list"></div>
    </section>

    <!-- –ú–æ–∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ -->
    <section id="my-trainings-section">
      <h2>üìä –ú–æ–∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏</h2>
      <ul id="my-trainings-list"></ul>
    </section>

    <!-- –ü–∞–Ω–µ–ª—å —Ç—Ä–µ–Ω–µ—Ä–∞ -->
    <section id="coach-panel-section">
      <h2>üßë‚Äçüè´ –ü–∞–Ω–µ–ª—å —Ç—Ä–µ–Ω–µ—Ä–∞</h2>

      <div id="requests">
        <h3>–ó–∞—è–≤–∫–∏ –Ω–∞ –≤—Å—Ç—É–ø–ª–µ–Ω–∏–µ</h3>
        <ul id="requests-list"></ul>
      </div>

      <div id="students">
        <h3>–£—á–µ–Ω–∏–∫–∏ –∏ –ø–æ—Å–µ—â–µ–Ω–∏—è</h3>
        <table>
          <thead>
            <tr>
              <th>–ò–º—è</th>
              <th>–î–∞—Ç–∞</th>
              <th>–ü–æ—Å–µ—â–µ–Ω–∏–µ</th>
              <th>–ë–∞–ª–ª—ã</th>
            </tr>
          </thead>
          <tbody id="students-table-body"></tbody>
        </table>
      </div>
    </section>
  </div>

  <nav>
    <a href="index.html" class="active">–ê–∫–∞–¥–µ–º–∏–∏ –∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏</a>
    <a href="tournament.html">–¢—É—Ä–Ω–∏—Ä—ã</a>
    <a href="store.html">–ú–∞–≥–∞–∑–∏–Ω</a>
    <a href="profile.html">–ü—Ä–æ—Ñ–∏–ª—å</a>
    <a href="news.html">–ù–æ–≤–æ—Å—Ç–∏</a>
  </nav>

<script>
  const academies = [
    { id: 1, name: "Gracie BJJ Almaty", city: "–ê–ª–º–∞—Ç—ã", coaches: ["–ê–π–±–µ–∫ –ö.", "–î–∂–æ–Ω –°."] },
    { id: 2, name: "Astana Grappling", city: "–ê—Å—Ç–∞–Ω–∞", coaches: ["–ê—Ä—É–∂–∞–Ω –¢.", "–ú—É—Ä–∞—Ç –ï."] },
    { id: 3, name: "Shymkent Fighters", city: "–®—ã–º–∫–µ–Ω—Ç", coaches: ["–î–∞–Ω–∏—è—Ä –ê.", "–ï–ª–µ–Ω–∞ –ü."] }
  ];

  const myTrainings = [
    { date: "2025-07-25", visited: true, points: 10 },
    { date: "2025-07-26", visited: false, points: 0 },
    { date: "2025-07-27", visited: true, points: 10 }
  ];

  const coachRequests = [
    { id: 1, studentName: "–ê—è–Ω–∞—Ç –ë.", academyName: "Gracie BJJ Almaty" },
    { id: 2, studentName: "–î–∏–∞–Ω–∞ –ö.", academyName: "Astana Grappling" }
  ];

  const coachStudents = [
    { name: "–ê—è–Ω–∞—Ç –ë.", date: "2025-07-30", attended: true, points: 10 },
    { name: "–î–∏–∞–Ω–∞ –ö.", date: "2025-07-29", attended: false, points: 0 }
  ];

  function renderAcademies(list) {
    const container = document.getElementById("academy-list");
    container.innerHTML = "";
    if (list.length === 0) {
      container.innerHTML = "<p>–ê–∫–∞–¥–µ–º–∏–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã.</p>";
      return;
    }
    list.forEach(academy => {
      const card = document.createElement("div");
      card.className = "academy-card";
      card.innerHTML = `
        <h3>${academy.name}</h3>
        <p>üìç ${academy.city}</p>
        <p>–¢—Ä–µ–Ω–µ—Ä—ã: ${academy.coaches.join(", ")}</p>
        <button onclick="enroll(${academy.id})">–ó–∞–ø–∏—Å–∞—Ç—å—Å—è</button>
      `;
      container.appendChild(card);
    });
  }

  document.getElementById("academy-search").addEventListener("input", (e) => {
    const query = e.target.value.toLowerCase();
    const filtered = academies.filter(a =>
      a.name.toLowerCase().includes(query) || a.city.toLowerCase().includes(query)
    );
    renderAcademies(filtered);
  });

  function enroll(academyId) {
    const academy = academies.find(a => a.id === academyId);
    if (!academy) return;
    alert(`–ó–∞—è–≤–∫–∞ –Ω–∞ –≤—Å—Ç—É–ø–ª–µ–Ω–∏–µ –≤ –∞–∫–∞–¥–µ–º–∏—é "${academy.name}" –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞! –û–∂–∏–¥–∞–π—Ç–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Ç—Ä–µ–Ω–µ—Ä–∞.`);
  }

  function renderMyTrainings() {
    const ul = document.getElementById("my-trainings-list");
    ul.innerHTML = "";
    myTrainings.forEach(t => {
      const li = document.createElement("li");
      const status = t.visited ? "‚úÖ –ü–æ—Å–µ—â–µ–Ω–æ" : "‚ùå –ü—Ä–æ–ø—É—Å–∫";
      li.textContent = `${formatDate(t.date)} ‚Äî ${status} ‚Äî +${t.points} –±–∞–ª–ª–æ–≤`;
      ul.appendChild(li);
    });
  }

  function formatDate(dateStr) {
    const d = new Date(dateStr);
    return d.toLocaleDateString("ru-RU");
  }

  function renderRequests() {
    const ul = document.getElementById("requests-list");
    ul.innerHTML = "";
    coachRequests.forEach(r => {
      const li = document.createElement("li");
      li.innerHTML = `
        ${r.studentName} ‚Äî —Ö–æ—á–µ—Ç –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ ${r.academyName}
        <button onclick="confirmRequest(${r.id})">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å</button>
      `;
      ul.appendChild(li);
    });
  }

  function confirmRequest(requestId) {
    const idx = coachRequests.findIndex(r => r.id === requestId);
    if (idx === -1) return;
    alert(`–ó–∞—è–≤–∫–∞ –æ—Ç ${coachRequests[idx].studentName} –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞!`);
    coachRequests.splice(idx, 1);
    renderRequests();
  }

  function renderStudents() {
    const tbody = document.getElementById("students-table-body");
    tbody.innerHTML = "";
    coachStudents.forEach((s, i) => {
      const tr = document.createElement("tr");
      tr.innerHTML = `
        <td>${s.name}</td>
        <td>${formatDate(s.date)}</td>
        <td><input type="checkbox" ${s.attended ? "checked" : ""} onchange="toggleAttendance(${i}, this.checked)" /></td>
        <td><input type="number" value="${s.points}" min="0" onchange="changePoints(${i}, this.value)" /></td>
      `;
      tbody.appendChild(tr);
    });
  }

  function toggleAttendance(index, checked) {
    coachStudents[index].attended = checked;
    alert(`–ü–æ—Å–µ—â–µ–Ω–∏–µ —É—á–µ–Ω–∏–∫–∞ ${coachStudents[index].name} –æ–±–Ω–æ–≤–ª–µ–Ω–æ: ${checked ? "–ü–æ—Å–µ—Ç–∏–ª" : "–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç"}`);
  }

  function changePoints(index, value) {
    const points = parseInt(value);
    if (isNaN(points) || points < 0) {
      alert("–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –±–∞–ª–ª–æ–≤");
      renderStudents();
      return;
    }
    coachStudents[index].points = points;
    alert(`–ë–∞–ª–ª—ã —É—á–µ–Ω–∏–∫–∞ ${coachStudents[index].name} –æ–±–Ω–æ–≤–ª–µ–Ω—ã: ${points}`);
  }

  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
  renderAcademies(academies);
  renderMyTrainings();
  renderRequests();
  renderStudents();
</script>

</body>
</html>